# Errata Reports

Total reports: 3

---


## Report 1: 9799-3-1

**Label:** Ambiguous actor reference in Tor client authentication (Section 4)

**Bug Type:** Underspecification

**Explanation:**

Section 4 ambiguously uses the term 'client', causing confusion over whether it refers to the ACME client or the Tor client and thereby obscuring which actor must republish the Hidden Service Descriptor and wait for its propagation.

**Justification:**

- The language 'novel to the client' is used without clarifying that only the Hidden Service operator (via the ACME client) should perform descriptor republishing.
- The excerpts indicate an indeterminate waiting period that does not clearly assign responsibility to a specific actor.

**Evidence Snippets:**

- **E1:**

  Some Hidden Services do not wish to be accessible to the entire Tor network, and so they encrypt their Hidden Service Descriptor with the keys of clients authorized to connect.

- **E2:**

  In the case in which the Ed25519 public key is novel to the client, it will have to resign and republish its Hidden Service Descriptor. It MUST wait some (indeterminate) amount of time for the new descriptor to propagate the Tor Hidden Service directory servers before proceeding with responding to the challenge.

**Evidence Summary:**

- (E1) Indicates ambiguous use of 'client' in the context of Hidden Service descriptor encryption.
- (E2) Shows unclear responsibilities regarding republishing and waiting periods.

**Fix Direction:**

Clarify in Section 4 that only the Hidden Service operator (acting via the ACME client) is responsible for republishing the Hidden Service Descriptor and waiting for its propagation.


**Severity:** Medium
  *Basis:* Ambiguity in specifying actor roles can lead to incorrect implementations and operational issues.

**Confidence:** High

---


## Report 3: 9799-3-3

**Label:** Unimplementable 64-bit entropy verification for applicantSigningNonce

**Bug Type:** Underspecification

**Explanation:**

The RFC mandates that the applicantSigningNonce attribute contain at least 64 bits of entropy and requires the server to verify this, yet entropy is a statistical property that cannot be conclusively measured from a single observed value.

**Justification:**

- The specification requires the nonce to 'contain at least 64 bits of entropy' without defining an objective, deterministic method for verification.
- This ambiguity may lead implementers to adopt different, incompatible checks, causing unpredictable validation outcomes.

**Evidence Snippets:**

- **E1:**

  applicantSigningNonce attribute containing a nonce generated by the client. This MUST have at least 64 bits of entropy. This MUST be raw bytes.

- **E2:**

  5. The applicantSigningNonce attribute is present and contains at least 64 bits of entropy.

**Evidence Summary:**

- (E1) Specifies the generation requirement for nonce entropy without offering a method for its verification.
- (E2) Imposes a server-side check that is not deterministically implementable.

**Fix Direction:**

Revise the specification to require a minimum length (e.g., at least 8 bytes) for the applicantSigningNonce, using byte-length as a proxy for entropy rather than attempting to measure statistical entropy.


**Severity:** Medium
  *Basis:* Ambiguity in the entropy verification requirement can lead to inconsistent implementations and interoperability issues.

**Confidence:** High

---


## Report 4: 9799-3-4

**Label:** Metadata field name mismatch between inBandOnionCAARequired and onionCAARequired

**Bug Type:** Inconsistency

**Explanation:**

The RFC presents a discrepancy by using inBandOnionCAARequired in the normative text and examples while registering the field as onionCAARequired with IANA, which could result in interoperability issues.

**Justification:**

- Section 6.4.1 and the accompanying JSON example refer to the field as inBandOnionCAARequired.
- Section 7.3, however, registers the field name as onionCAARequired in the IANA registry.

**Evidence Snippets:**

- **E1:**

  inBandOnionCAARequired (optional, boolean): If true, the ACME server requires the client to provide the CAA record set in the finalize request.

- **E2:**

  onionCAARequired | boolean | RFC 9799

**Evidence Summary:**

- (E1) Demonstrates the field name used in the main text and examples.
- (E2) Shows the IANA registry entry with a conflicting field name.

**Fix Direction:**

Harmonize the field name throughout the document and IANA registration by choosing a single canonical name and updating all related textual references and examples.


**Severity:** Medium
  *Basis:* An inconsistent field name can lead to misinterpretation of server policies and cause interoperability failures between clients and servers.

**Confidence:** High

---